<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>APP打包混淆代码实现步骤及分析-爱加密移动应用安全保护平台|安卓加固|APK反编译|android防破解</title>
<meta name="keywords" content="APP打包,代码混淆,爱加密,爱加密注册">
<meta name="description" content="APP项目开发完成之后，当测试人员测试了，没有Bug了，一般情况下，公司会有一些技术人员负责发布、推广APP产品。这是一般正规的大公司会有专门的市场推广部门，技术维护部门，对APP进行加密混淆打包，如：使用Ant加密，还">
<link rel="shortcut icon" href="https://www.ijiami.cn/images/favicon.ico">
<link rel="stylesheet" href="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/public_002.css">
<link rel="stylesheet" href="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/head.css">
<link rel="stylesheet" href="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/a.css">
<link rel="stylesheet" href="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/public.css">
<script src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/hm.asc"></script><script type="text/javascript" src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/jqurey-1.js"></script>
<script type="text/javascript" src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/lazyload.js"></script>
<script type="text/javascript" src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/public.js"></script>
</head>
<body>
<div class="share_box"><img src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/share_logo.html"></div>
<div id="header">
	<div class="header_box">
		<a href="https://www.ijiami.cn/" class="logo"><img src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/logo.png"></a>
		<div class="right_nv">
			<p>
									<a href="https://www.ijiami.cn/treg" class="register_link">注册</a>
					<a href="https://www.ijiami.cn/tlogin" class="loginin">登录</a>
			</p>
		</div>
		<ul class="navs">
				<li class="">
                	
					<a href="https://www.ijiami.cn/">首页<b></b></a>
                    <span></span>
				</li>
				<li>
					<a href="https://www.ijiami.cn/AppProtect" target="_blank">产品中心<b></b></a>
                    <div class="navs_box">
                    	<dl class="navs_box_dl1">
                        	<dt>应用测试</dt>
                            <dd><a href="http://safe.ijiami.cn/" target="_blank">漏洞分析</a></dd>
                            <dd><a href="https://www.ijiami.cn/safetyAssess">安全评估</a></dd>
                        </dl>
                    	<dl class="navs_box_dl2">
                        	<dt>安全保护</dt>
                            <dd class="list_first_dd"><a href="https://www.ijiami.cn/AppProtect">安卓加密<i></i></a></dd>
                            <dd><a href="https://www.ijiami.cn/h5Encryption">Html5加密</a></dd>
                            <dd class="list_first_dd"><a href="https://www.ijiami.cn/ios">iOS加密<i></i></a></dd>
                            <dd><a href="https://www.ijiami.cn/protocolEncryption">协议加密<i class="icon"></i></a></dd>
                        </dl>	
                    	<dl class="navs_box_dl3">
                        	<dt>其他</dt>
                            <dd><a href="https://www.ijiami.cn/Channels">渠道监测</a></dd>
                            <dd><a href="https://www.ijiami.cn/appprotect_encrypt_way">加密方式</a></dd>
                        </dl>		
                    </div>
                    <span></span>
				</li>
				<li>
					<a href="https://www.ijiami.cn/financialSolutions" target="_blank">解决方案<b></b></a>
                    <div class="navs_box2">
                    	<ul class="clearfix">
							<li><a href="https://www.ijiami.cn/financialSolutions">金融解决方案</a></li>
							<li><a href="https://www.ijiami.cn/gamingSolutions">游戏解决方案</a></li>
						</ul>
                    </div>
                    <span></span>
				</li>
				<li>
					<a href="https://www.ijiami.cn/cloudService">云服务<b></b></a>
                     <span></span>
				</li>
				<li>
						<a href="https://www.ijiami.cn/tlogin" class="log_btn">管理中心<b></b></a>
				</li>
			</ul>
		
	</div>
</div>


<div id="top_box">
	<ul>
    	<li>
        	<a class="btn" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2850686000&amp;site=qq&amp;menu=yes" target="_blank" title="联系客服"><i></i></a>
        </li>
    	<li>
        	<div id="box_li_info">
        		<p>电话服务：4000-618-110</p>
            	<span></span>
            </div>
        	<a href="javascript:;" class="call_icon"></a>
            
        </li>
    	<li>
        	<a style="display: inline;" href="javascript:;" class="go_top" title="返回顶部"></a>
        </li>
    </ul>
</div>

<script type="text/javascript">
	$(function(){
		var $top_box_li = $('#top_box li');
		$top_box_li.hover(function(){
				if($(this).index() == 0){
					$(this).find('i').addClass('img_tab');
				}else if($(this).index() == 1){
					$('#box_li_info').fadeIn();
					$(this).find('a').addClass('img_tab1');
				}else if($(this).index() == 2){
					$(this).find('a').addClass('img_tab2');
				}
			},function(){
				if($(this).index() == 0){
					$(this).find('i').removeClass('img_tab');	
				}else if($(this).index() == 1){
					$('#box_li_info').fadeOut();
					$(this).find('a').removeClass('img_tab1');
				}else if($(this).index() == 2){
					$(this).find('a').removeClass('img_tab2');
				}	
			});
			
		$(window).scroll(function(){
			if ($(window).scrollTop()>100){  
				$(".go_top").fadeIn(500);  
			}  
			else  
			{  
				$(".go_top").fadeOut(500);  
			}  
		});
		
		$(".go_top").click(function(){
			$('body,html').animate({scrollTop:0},500);  
	        return false;	
		});
		
		$("#demas").bind("click", function () {
			var str = '您还没有登录，请登录之后再下载测试案例！';
			if(confirm(str)){
				location.href='/tlogin';
			}
		});
		//nav切换

		$(".header_box>ul>li").hover(function(){
			$(this).find("a").children('b').show();
			
			
			if($(this).index() == 1){
				
				$(this).parent().find('.navs_box').show();
			}else if($(this).index() == 2){
				$(this).parent().find('.navs_box2').show();
			}
				
		},function(){
			$(this).find("a").children('b').hide();
			$(this).parent().find('div').hide();
			$(".header_box>ul>li.active").find("a").children('b').show();
		})
		//鼠标经过微信，二维码放大
		$('.att_weixin_icon').hover(function(){
			$('.footer_att img').addClass('saless');	
		},function(){
			$('.footer_att img').removeClass('saless');		
		})
		
	});
</script>    <div class="small_tit_banner">
        <div class="small_tit_banner_box">
        	<h1>
        	<em>NEWS</em>
	            	技术博客
        	</h1>
        	<i><img src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/new_b_icon.png"></i>
        </div>
    </div>
    <div class="c_position">
		<a href="https://www.ijiami.cn/">首页</a><span>&gt;</span>
		<a href="https://www.ijiami.cn/News?on=3">
            	技术博客
		</a><span>&gt;</span>
		<span>APP打包混淆代码实现步骤及分析</span>
	</div>
	<div class="add_news_box">
		<div class="news_con">
	        <div class="news_list_con">
	            <h2>APP打包混淆代码实现步骤及分析</h2>
	            <span class="time"> 发布时间：2015-11-10</span>
	            <div class="new_con">
		        	<p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp;&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">APP项目开发完成之后，当测试人员测试了，没有Bug了，一般情况下，公司会有一些技术人员负责发布、推广APP产品。这是一般正规的大公司会有专门的市场推广部门，技术维护部门，对APP进行加密混淆打包，如：使用Ant加密，还有使用第三方的APP加密方式</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">如</span><span style="font-family: 宋体;letter-spacing: 0;font-weight: bold;font-size: 16px">爱</span><span style="font-family: 宋体;letter-spacing: 0;font-weight: bold;font-size: 16px">加</span><span style="font-family: 宋体;letter-spacing: 0;font-weight: bold;font-size: 16px">密</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">。想必APP产品为什么需要加密混淆，做为开发人员、老板都明白其中的隐含之处。然而，还有一种方式可以打包混淆APP，那就是</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">android通过eclipse混淆代码打包+proguard</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">方式。下面，由爱加密小编介绍一下通过混淆实现<a href="http://www.ijiami.cn/newsInfo?id=679&amp;v=3" target="_blank" title=""><span style="font-family: 宋体;color: rgb(0, 0, 255);letter-spacing: 0;font-size: 16px">APP加密的技术</span></a>的具体步骤，步骤如下：</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp;&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">一、android应用程序的混淆打包</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; 1&nbsp;.&nbsp;在工程文件project.properties中加入下proguard.config=proguard.cfg&nbsp;，&nbsp;如下所示：</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">target=android-8</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">proguard.config=proguard.cfg</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Eclipse会通过此配置在工程目录生成proguard.cfg文件</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; 2&nbsp;.&nbsp;生成keystore&nbsp;(如已有可直接利用)</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp;
 
按照下面的命令行&nbsp;在D:\Program&nbsp;Files\Java\jdk1.6.0_07\bin&gt;目录下，输入
keytool&nbsp;-genkey&nbsp;-alias&nbsp;android.keystore&nbsp;-keyalg&nbsp;RSA&nbsp;-validity&nbsp;100000&nbsp;-keystore&nbsp;android.keystore</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; 参数意义：-validity主要是证书的有效期，写100000天；空格，退格键&nbsp;都算密码。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; 命令执行后会在D:\Program&nbsp;Files\Java\jdk1.6.0_07\bin&gt;目录下生成&nbsp;android.keystore文件。</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; 3.&nbsp;在Eclipce的操作</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp;
 
File&nbsp;-&gt;&nbsp;Export&nbsp;-&gt;&nbsp;Export&nbsp;Android&nbsp;Application&nbsp;-&gt;&nbsp;Select&nbsp;project&nbsp;-&gt;&nbsp;Using&nbsp;the&nbsp;existing&nbsp;keystore&nbsp;,&nbsp;and&nbsp;input&nbsp;password&nbsp;-&gt;&nbsp;select&nbsp;the&nbsp;destination&nbsp;APK&nbsp;file&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; 经过混淆后的源代码，原先的类名和方法名会被类似a,b,c。。。的字符所替换，混淆的原理其实也就是类名和方法名的映射。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; proguard&nbsp;自己考一个就行</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp;&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">二、proguard&nbsp;原理</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Java代码编译成二进制class&nbsp;文件，这个class&nbsp;文件也可以反编译成源代码&nbsp;，除了注释外，原来的code&nbsp;基</span><span style="font-family: 宋体; letter-spacing: 0px;">本都可以看到。为了防止重要code&nbsp;被泄露，我们往往需要混淆（Obfuscation&nbsp;code&nbsp;，&nbsp;也就是把方法，字段，包和</span><span style="font-family: 宋体; letter-spacing: 0px;">类这些java&nbsp;元素的名称改成无意义的名称，这样代码结构没有变化，还可以运行，但是想弄懂代码的架构却很难。</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">proguard&nbsp;就是这样的混淆工具，它可以分析一组class&nbsp;的结构，根据用户的配置，然后把这些class&nbsp;文件的可以混</span><span style="font-family: 宋体; letter-spacing: 0px;">淆java&nbsp;元素名混淆掉。在分析class&nbsp;的同时，他还有其他两个功能，删除无效代码（Shrinking&nbsp;收缩），和代码进</span><span style="font-family: 宋体; letter-spacing: 0px;">行优化&nbsp;（Optimization&nbsp;Options）。</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">缺省情况下，proguard&nbsp;会混淆所有代码，但是下面几种情况是不能改变java&nbsp;元素的名称，否则就会这样就</span><span style="font-family: 宋体; letter-spacing: 0px;">会导致程序出错。</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">一，&nbsp;我们用到反射的地方。</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">二，&nbsp;我们代码依赖于系统的接口，比如被系统代码调用的回调方法，这种情况最复杂。</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">三，&nbsp;是我们的java&nbsp;元素名称是在配置文件中配置好的。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">所以使用proguard时，我们需要有个配置文件告诉proguard&nbsp;那些java&nbsp;元素是不能混淆的。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp;&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">三、proguard&nbsp;配置</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">1、最常用的配置选项</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;缺省proguard&nbsp;会检查每一个引用是否正确，但是第三方库里面往往有些不会用到的类，没有正确引用。如果不配置的话，系统就会报错。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;指定的类和类成员被保留作为&nbsp;入口&nbsp;。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclassmembers&nbsp;指定的类成员被保留。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclasseswithmembers&nbsp;指定的类和类成员被保留，假如指定的类成员存在的话。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">2、proguard&nbsp;问题和风险</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">代码混淆后虽然有混淆优化的好处，但是它往往也会带来如下的几点问题</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">1，混淆错误，用到第三方库的时候，必须告诉&nbsp;proguard&nbsp;不要检查，否则proguard&nbsp;会报错。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">2，运行错误，当code&nbsp;不能混淆的时候，我们必须要正确配置，否则程序会运行出错，这种情况问题最多。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">3，调试苦难，出错了，错误堆栈是混淆后的代码&nbsp;，自己也看不懂。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">为
了防止混淆出问题，你需要熟悉你所有的code&nbsp;，系统的架构&nbsp;，以及系统和你code的集成的接口，并细心分析。&nbsp;同时
你必须需要一轮全面的测试。&nbsp;所以混淆也还是有一定风险的。&nbsp;为了避免风险，你可以只是混淆部分关键的代码，但是这样你的混淆的效果
也会有所降低。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">3、常见的不能混淆的androidCode</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Android&nbsp;程序&nbsp;，下面这样代码混淆的时候要注意保留。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Android系统组件，系统组件有固定的方法被系统调用。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">被Android&nbsp;Resource&nbsp;文件引用到的。名字已经固定，也不能混淆，比如自定义的View&nbsp;。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Android&nbsp;Parcelable&nbsp;，需要使用android&nbsp;序列化的。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">其他Anroid&nbsp;官方建议&nbsp;不混淆的，如</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">android.app.backup.BackupAgentHelper</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">android.preference.Preference</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">com.android.vending.licensing.ILicensingService</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Java序列化方法，系统序列化需要固定的方法。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">枚举&nbsp;，系统需要处理枚举的固定方法。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">本地方法，不能修改本地方法名</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">annotations&nbsp;注释</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">数据库驱动</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">有些resource&nbsp;文件</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">用到反射的地方</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">如何实施</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">现在的系统已经配置为混淆时候会保留</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Android系统组件</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">自定义View</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Android&nbsp;Parcelable</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Android&nbsp;R&nbsp;文件</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">Android&nbsp;Parcelable</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">枚举</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">各个开发人员必须检查自己的code&nbsp;是否用到反射&nbsp;，和其他不能混淆的地方。告诉我来修改配置文件（已经保留的就不需要了）</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; 四、目前系统部检查的第三方库为</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;android.support.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;com.tencent.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;org.dom4j.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;org.slf4j.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;org.http.mutipart.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;org.apache.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;org.apache.log4j.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;org.apache.commons.logging.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;org.apache.commons.codec.binary.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontwarn&nbsp;weibo4android.**</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">proguard&nbsp;参数</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-include&nbsp;{filename}&nbsp;&nbsp;&nbsp;&nbsp;从给定的文件中读取配置参数&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-basedirectory&nbsp;{directoryname}&nbsp;&nbsp;&nbsp;&nbsp;指定基础目录为以后相对的档案名称&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-injars&nbsp;{class_path}&nbsp;&nbsp;&nbsp;&nbsp;指定要处理的应用程序jar,war,ear和目录&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-outjars&nbsp;{class_path}&nbsp;&nbsp;&nbsp;&nbsp;指定处理完后要输出的jar,war,ear和目录的名称&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-libraryjars&nbsp;{classpath}&nbsp;&nbsp;&nbsp;&nbsp;指定要处理的应用程序jar,war,ear和目录所需要的程序库文件&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontskipnonpubliclibraryclasses&nbsp;&nbsp;&nbsp;&nbsp;指定不去忽略非公共的库类。&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontskipnonpubliclibraryclassmembers&nbsp;&nbsp;&nbsp;&nbsp;指定不去忽略包可见的库类的成员。&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">保留选项&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;{Modifier}&nbsp;{class_specification}&nbsp;&nbsp;&nbsp;&nbsp;保护指定的类文件和类的成员&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclassmembers&nbsp;{modifier}&nbsp;{class_specification}&nbsp;&nbsp;&nbsp;&nbsp;保护指定类的成员，如果此类受到保护他们会保护的更好</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclasseswithmembers&nbsp;{class_specification}&nbsp;&nbsp;&nbsp;&nbsp;保护指定的类和类的成员，但条件是所有指定的类和类成员是要存在。&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepnames&nbsp;{class_specification}&nbsp;&nbsp;&nbsp;&nbsp;保护指定的类和类的成员的名称（如果他们不会压缩步骤中删除）&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclassmembernames&nbsp;{class_specification}&nbsp;&nbsp;&nbsp;&nbsp;保护指定的类的成员的名称（如果他们不会压缩步骤中删除）&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclasseswithmembernames&nbsp;{class_specification}&nbsp;&nbsp;&nbsp;&nbsp;保护指定的类和类的成员的名称，如果所有指定的类成员出席（在压缩步骤之后）&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-printseeds&nbsp;{filename}&nbsp;&nbsp;&nbsp;&nbsp;列出类和类的成员-keep选项的清单，标准输出到给定的文件&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">压缩&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontshrink&nbsp;&nbsp;&nbsp;&nbsp;不压缩输入的类文件&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-printusage&nbsp;{filename}&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-whyareyoukeeping&nbsp;{class_specification}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">优化&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontoptimize&nbsp;&nbsp;&nbsp;&nbsp;不优化输入的类文件&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-assumenosideeffects&nbsp;{class_specification}&nbsp;&nbsp;&nbsp;&nbsp;优化时假设指定的方法，没有任何副作用&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-allowaccessmodification&nbsp;&nbsp;&nbsp;&nbsp;优化时允许访问并修改有修饰符的类和类的成员&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">混淆&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontobfuscate&nbsp;&nbsp;&nbsp;&nbsp;不混淆输入的类文件&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-printmapping&nbsp;{filename}&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-applymapping&nbsp;{filename}&nbsp;&nbsp;&nbsp;&nbsp;重用映射增加混淆&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-obfuscationdictionary&nbsp;{filename}&nbsp;&nbsp;&nbsp;&nbsp;使用给定文件中的关键字作为要混淆方法的名称&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-overloadaggressively&nbsp;&nbsp;&nbsp;&nbsp;混淆时应用侵入式重载&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-useuniqueclassmembernames&nbsp;&nbsp;&nbsp;&nbsp;确定统一的混淆类的成员名称来增加混淆&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-flattenpackagehierarchy&nbsp;{package_name}&nbsp;&nbsp;&nbsp;&nbsp;重新包装所有重命名的包并放在给定的单一包中&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-repackageclass&nbsp;{package_name}&nbsp;&nbsp;&nbsp;&nbsp;重新包装所有重命名的类文件中放在给定的单一包中&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontusemixedcaseclassnames&nbsp;&nbsp;&nbsp;&nbsp;混淆时不会产生形形色色的类名&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepattributes&nbsp;
{attribute_name,...}&nbsp;&nbsp;&nbsp;&nbsp;保护给定的可选属性，例如
LineNumberTable,&nbsp;LocalVariableTable,&nbsp;SourceFile,&nbsp;Deprecated,&nbsp;Synthetic,&nbsp;Signature,&nbsp;and&nbsp;InnerClasses.&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-renamesourcefileattribute&nbsp;{string}&nbsp;&nbsp;&nbsp;&nbsp;设置源文件中给定的字符串常量</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp; 五、解决export打包的报错</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">这
个时候export提示
“conversion&nbsp;to&nbsp;Dalvik&nbsp;format&nbsp;failed&nbsp;with&nbsp;error&nbsp;1”
错误，网上说法有好多种，最后我还是把proguard从4.4升级到4.8就解决了。官方地址是
http://proguard.sourceforge.net。上面的配置文件参数可以在这里查阅。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">升级办法很简单，就是把android&nbsp;sdk目录下的tool/proguard目录覆盖一下即可。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">打包出来的程序如何调试</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">一旦打包出来，就不能用eclipse的logcat去看了，这里可以用android&nbsp;sdk中ddms.bat的tool来看，一用就发现和logcat其实还是一个东西，就是多了个设备的选择。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">使用&nbsp;gson&nbsp;需要的配置</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">当
Gson用到了泛型就会有报错，这个真给郁闷了半天，提示“Missing&nbsp;type&nbsp;parameter”。最后找到一个资料给了
一个解决办法，参考：http://stackoverflow.com/questio&nbsp;...&nbsp;sing-type-
parameter。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">另外我又用到了JsonObject，提交的Object里面的members居然被改成了a。所以上面给的东西还不够，还要加上</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">#&nbsp;用到自己拼接的JsonObject</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;class&nbsp;com.google.gson.JsonObject&nbsp;{&nbsp;*;&nbsp;}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">建议减少这些依赖包混淆带来的麻烦，干脆都全部保留不混淆。例如</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;class&nbsp;com.badlogic.**&nbsp;{&nbsp;*;&nbsp;}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;class&nbsp;*&nbsp;implements&nbsp;com.badlogic.gdx.utils.Json*</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;class&nbsp;com.google.**&nbsp;{&nbsp;*;&nbsp;}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">使用libgdx需要的配置</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">参考http://code.google.com/p/libgdx-users/wiki/Ant</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">验证打包效果</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">利用了apktool的反编译工具，把打包文件又解压了看了一下，如果包路径、类名、变量名、方法名这些变化和你期望一致，那就OK了。命令：</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">apktool.bat&nbsp;d&nbsp;xxx.apk&nbsp;destdir</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">配置实例</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-injars&nbsp;&nbsp;androidtest.jar【jar包所在地址】&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-outjars&nbsp;&nbsp;out【输出地址】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-libraryjars&nbsp;&nbsp;&nbsp;&nbsp;'D:\android-sdk-windows\platforms\android-9\android.jar'&nbsp;【引用的库的jar，用于解析injars所指定的jar类】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-optimizationpasses&nbsp;5</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontusemixedcaseclassnames&nbsp;【混淆时不会产生形形色色的类名&nbsp;】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontskipnonpubliclibraryclasses&nbsp;【指定不去忽略非公共的库类。&nbsp;】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-dontpreverify&nbsp;【不预校验】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-verbose</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-optimizations&nbsp;!code/simplification/arithmetic,!field/*,!class/merging/*&nbsp;【优化】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;*&nbsp;extends&nbsp;android.app.Activity　　【不进行混淆保持原样】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;*&nbsp;extends&nbsp;android.app.Application</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;*&nbsp;extends&nbsp;android.app.Service</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;*&nbsp;extends&nbsp;android.content.BroadcastReceiver</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;*&nbsp;extends&nbsp;android.content.ContentProvider</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;*&nbsp;extends&nbsp;android.app.backup.BackupAgentHelper</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;*&nbsp;extends&nbsp;android.preference.Preference</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;com.android.vending.licensing.ILicensingService</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;abstract&nbsp;interface&nbsp;com.asqw.android.Listener{</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">public&nbsp;protected&nbsp;;&nbsp;&nbsp;【所有方法不进行混淆】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;public&nbsp;class&nbsp;com.asqw.android{</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">public&nbsp;void&nbsp;Start(java.lang.String);&nbsp;【对该方法不进行混淆】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclasseswithmembernames&nbsp;class&nbsp;*&nbsp;{&nbsp;【保护指定的类和类的成员的名称，如果所有指定的类成员出席（在压缩步骤之后）】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">native&nbsp;;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclasseswithmembers&nbsp;class&nbsp;*&nbsp;{&nbsp;【保护指定的类和类的成员，但条件是所有指定的类和类成员是要存在。】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">public&nbsp;(android.content.Context,&nbsp;android.util.AttributeSet);</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclasseswithmembers&nbsp;class&nbsp;*&nbsp;{</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">public&nbsp;(android.content.Context,&nbsp;android.util.AttributeSet,&nbsp;int);</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclassmembers&nbsp;class&nbsp;*&nbsp;extends&nbsp;android.app.Activity&nbsp;{【保护指定类的成员，如果此类受到保护他们会保护的更好&nbsp;】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">public&nbsp;void&nbsp;*(android.view.View);</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keepclassmembers&nbsp;enum&nbsp;*&nbsp;{</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">public&nbsp;static&nbsp;**[]&nbsp;values();</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">public&nbsp;static&nbsp;**&nbsp;valueOf(java.lang.String);</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;class&nbsp;*&nbsp;implements&nbsp;android.os.Parcelable&nbsp;{【保护指定的类文件和类的成员】</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">public&nbsp;static&nbsp;final&nbsp;android.os.Parcelable$Creator&nbsp;*;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">}</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">//不混淆指定包下的类&nbsp;</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px"><br></span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">-keep&nbsp;class&nbsp;com.aspire.**</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">&nbsp;</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">总结：</span></p><p style=";text-indent: 0;padding: 0;line-height: 21px;background: rgb(255, 255, 255)"><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">当然，APP的打包涉及到第三放Jar包的时候，考虑的因素就多了，有些Jar里面的类是不需要混淆的，有些是需要混淆的，具体的还得根据具体情况下，去分析保留那些类、方法不被混淆。上面的这些常用的仅供参考。</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">如果嫌麻烦，也可以交给第三方加密平台</span><a href="http://www.ijiami.cn/" target="_blank" title=""><span style="font-family: 宋体;color: rgb(0, 0, 255);letter-spacing: 0;font-size: 16px">爱加密</span></a><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">(www.ijiami.cn)</span><span style="font-family: 宋体;letter-spacing: 0;font-size: 16px">，只要<a href="http://www.ijiami.cn/treg" target="_blank" title=""><span style="font-family: 宋体;color: rgb(0, 0, 255);letter-spacing: 0;font-size: 16px">注册</span></a>一个账号，今天上传到网站上，第二天就能拿到混淆代码后的apk了。</span></p><p><br></p>
		        </div>
	        </div>
	    </div>
	    <div class="add_news_serve">
			<a href="https://www.ijiami.cn/newsInfo?id=683&amp;v=3" rel="sidebar" onclick="AddFavorite(window.location,document.title);" class="news_collent">加入收藏</a>
			<div class="share_box">
				<span class="share_btn">我要分享</span>
				<div class="share_all_bg">
					<div class="share_bottom_box">
						<div class="bdsharebuttonbox">
							<a href="javascript:;" class="bds_weixin" type="weixin" title="分享到微信"></a>
							<a href="javascript:;" class="bds_qzone" target="_blank" type="qzone" title="分享到QQ空间"></a>
							<a href="javascript:;" class="bds_tqq" target="_blank" type="weibo" title="分享到腾讯微博"></a>
							<a href="javascript:;" class="bds_tsina" target="_blank" type="sina" title="分享到新浪微博"></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	    <div class="up-down_page">
	        <div class="up-down_page_box">
		        <p class="f_p">上一篇：<a href="https://www.ijiami.cn/newsInfo?id=684&amp;v=3" title="如何加固APP防止APP被二次打包">
		        		如何加固APP防止APP被二次打包
		        </a></p>
		        <p class="r_p">下一篇：<a href="https://www.ijiami.cn/newsInfo?id=680&amp;v=3" title="爱加密安卓手游防破解技术分析">
		        		爱加密安卓手游防破解技术分析
		        </a></p>
	        </div>
	    </div>
	</div>
<div id="footer">
	<div class="footer_con">
		<div class="footer_top">
			<div class="footer_nav fl">
				<dl>
					<dt><img src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/phone_icon.gif"></dt>
                    <dd title="客服电话">客服电话：4000-618-110</dd>
                    <dd>电子邮箱：<a title="电子邮箱" href="mailto:service@ijiami.cn">service@ijiami.cn</a></dd>
                    <dd>在线交谈：<a title="在线交谈" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2850686000&amp;site=qq&amp;menu=yes" target="_blank" class="more"><i class="talkqq"></i>2850686000</a></dd>
                    <dd><a title="更多联系方式" href="http://www.ijiami.cn/About?v=4">更多联系方式</a></dd>
				</dl>
				<dl>
					<dt>爱加密产品</dt>
                    <dd><a title="金融解决方案" href="https://www.ijiami.cn/financialSolutions">金融解决方案</a></dd>
                    <dd><a title="游戏解决方案" href="https://www.ijiami.cn/gamingSolutions" target="_blank">游戏解决方案</a></dd>
                    <dd><a title="漏洞检测" href="http://safe.ijiami.cn/" target="_blank">漏洞检测</a></dd>
                    <dd><a title="云服务" href="https://www.ijiami.cn/cloudService" target="_blank">云服务</a></dd>
				</dl>
				<dl>
					<dt>关于我们</dt>
                    <dd><a title="公司介绍" href="https://www.ijiami.cn/About?v=1" target="_blank">公司介绍</a></dd>
                    <dd><a title="加密资讯" href="https://www.ijiami.cn/News" target="_blank">加密资讯</a></dd>
                    <dd><a title="服务条款" href="https://www.ijiami.cn/termService" rel="external nofollow" target="_blank">服务条款</a></dd>
                    <dd><a title="合作伙伴" href="https://www.ijiami.cn/About?v=5" target="_blank">合作伙伴</a></dd>
				</dl>
				<dl>
					<dt>帮助文档</dt>
                    <dd><a title="操作流程" href="https://www.ijiami.cn/Guide" target="_blank">操作流程</a></dd>
                    <dd><a title="常见问题" href="https://www.ijiami.cn/Question" target="_blank">常见问题</a></dd>
                    <dd>
	                    							<a title="测试案例" href="javascript:void(0)" id="demas">测试案例</a>
					</dd>
                    <dd><a title="视频教程" href="https://www.ijiami.cn/Video?v=1" rel="external nofollow" target="_blank">视频教程</a></dd>
				</dl>
			</div>
			<div class="footer_att fr">
				<p>
					<em>关注爱加密</em>
					<a title="官方微信" href="javascript:;" class="att_weixin_icon"></a>
					<a title="官方微博" href="http://weibo.com/ijiami" target="_blank" rel="external nofollow" class="att_xina_icon"></a>
				</p>
				<img src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/code_ijiami.png">
			</div>
		</div>
		<div class="footer_bot">
			<div class="footer_text">
				<a href="http://www.devstore.cn/" target="_blank">DevStore</a>
            	<a href="http://www.pediy.com/" target="_blank">看雪论坛</a>
            	<a href="http://tools.appying.com/" rel="external nofollow" target="_blank">App运营辅助工具</a>
            	<a href="http://www.jiamisoft.com/" target="_blank">文件加密软件</a>
            	<a href="http://www.youmi.net/" target="_blank">有米移动广告</a>
            	<a href="http://www.appstar.com.cn/" target="_blank">app开发</a>
            	<a href="http://www.apicloud.com/" target="_blank">APICloud</a>
            	<a href="http://www.ineice.com/" target="_blank">移动应用安全监测</a>
			</div>
			<div class="footer_copy">
				北京智游网安科技有限公司 爱加密 版权所有 ©2013-2016 京ICP备13010720号-16
				<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5340760'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/stat.php%3Fid%3D5340760%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script><span id="cnzz_stat_icon_5340760"><a href="http://www.cnzz.com/stat/website.php?web_id=5340760" target="_blank" title="站长统计"><img src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/pic.gif" hspace="0" vspace="0" border="0"></a></span><script src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/stat.js" type="text/javascript"></script><script src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/core.js" charset="utf-8" type="text/javascript"></script>
			</div>
		</div>
	</div>
</div>
<!-- <div class="iosencrypt_pop" style=" width:266px; height:269px;">
    <span class="close_iosencrypt_pop" style="top:5px;right:5px"></span>
    <a href="/activity" target="_blank"><img src="/activity/twoannual/images/twoannual_pop.png" /></a>
</div>
<script>
  	function ijiami (){
		$(".iosencrypt_pop").animate({"bottom":0},1000);
	};
	function close_ijiami(){
		$(".iosencrypt_pop").animate({"bottom":"-640px"},1000,function(){
			$(".iosencrypt_pop").hide();
		});
	}
	$(function(){
		setTimeout(function(){ijiami();},1000)
		setTimeout(function(){close_ijiami();},12000)
		$(".close_iosencrypt_pop").click(function(){
			close_ijiami();
		});
		$(".iosencrypt_pop").click(function(){
			close_ijiami();
		});
	})
</script>  -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?5e53cb314eb89eb6dee4302b45425503";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	<script>var mxm_end=new Date().getTime();</script><script src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/a.html" charset="utf-8"></script><noscript><a href="http://116.255.217.177/" target="_blank"><img border="0" width="1" height="1" src="http://116.255.217.177/count/?uid=1000" alt="" title="" /></a></noscript>
<script type="text/javascript">
	$(function(){
		$(".share_box").hover(function(){
			$(this).find(".share_all_bg").show();
		},function(){
			$(this).find(".share_all_bg").hide();
		});
		
		$(".share_all_bg").hover(function(){
			$(this).show();
		},function(){
			$(this).hide();
		});
	})
	function AddFavorite(sURL, sTitle){
			var url = window.location;  
		    var title = document.title;  
		    var ua = navigator.userAgent.toLowerCase();  
		    if (ua.indexOf("360se") > -1) {  
		        alert("由于360浏览器功能限制，请按 Ctrl+D 手动收藏！");  
		    }else if (ua.indexOf("msie 8") > -1) {  
		        window.external.AddToFavoritesBar(url, title); //IE8  
		    }else if (document.all) {  
		      try{  
		        window.external.addFavorite(url, title);  
		      }catch(e){  
		        alert('您的浏览器不支持,请按 Ctrl+D 手动收藏!');  
		      }  
		    } else if (window.sidebar) {
		        window.sidebar.addPanel(title, url, "http://www.ijiami.cn"); 
		    } else {  
		        alert('您的浏览器不支持,请按 Ctrl+D 手动收藏!');
		    }
	}
</script>
<script type="text/javascript" src="APP%E6%89%93%E5%8C%85%E6%B7%B7%E6%B7%86%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%8F%8A%E5%88%86%E6%9E%90_files/public_share.js"></script>

</body></html>